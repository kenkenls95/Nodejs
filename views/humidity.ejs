<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>


	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.9.0/sweetalert2.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
    
</head>
<body>
	
	<div class="container">
		<div class="row">
			<nav class="navbar navbar-inverse">
		        <div class="container">
		            <div class="col-lg-12 col-sm-12 col-md-12">
		            	<div id="navbar" class="collapse navbar-collapse">
			               <ul class="nav navbar-nav">
			                    <li ><a class="btn-hover" href="/">Home</a></li>
			                    <li ><a href="/remote">Remote</a></li>
			                    <li ><a class="btn-dropdown" style=" cursor: pointer;">Environment</a></li>
			                </ul>
			                <ul class="dropdown-menu" style="margin-left: 176px;">
							    <li><a href="/environment/humidity">Humidity</a></li>
							    <li><a href="/environment/temperature">Temperature</a></li>
							    <li><a href="/environment/soilmoisture">Soilmoisture</a></li>
							  </ul>
			            </div>
		            </div>
		        </div>
		    </nav>
		</div>
		<div class="row">
		    <h2>Độ ẩm thực tế</h2>
		    <div class="col-md-6 col-md-6 col-sm-6">
		        <div id="g1" class="gauge float-right"></div>
		    </div>
		       
		<div class="row" style="margin-top:20px">
			<div class="col-lg-12 col-sm-12 col-md-12 col-xs-12">
			<h2>Bảng tìm kiếm</h2>
				 <table class="table" class="text-center" >  
			        <thead>  
			            <tr>  
			                <th>ID</th>  
			                <th>Value</th>
			                <th>Date</th>
			                <th>Status</th>  
			            </tr>  
			        </thead>  
			         <tbody>  
			         <% print.forEach(function (humidity) { %>
			            <tr>  
			                <td><%= humidity.id %></td>  
			                <td><%= humidity.value %></td>
			                <td><%= humidity.date %></td>
			                <td><%= humidity.status %></td>
			            </tr>                                   
			         <% }) %>
			         </tbody>
			    </table>   
			</div>
			</div>
		</div>
	</div>

        <footer>
            <!-- this is footer -->
            <div class="container text-center">
                <hr />
                <div class="row">
                    <div class="col-lg-12">
                        <div class="col-md-3">
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="#">About us</a></li>
                                <li><a href="#">Blog</a></li>
                            </ul>
                        </div>
                        <div class="col-md-3">
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="#">Product for Mac</a></li>
                                <li><a href="#">Product for Windows</a></li>
                            </ul>
                        </div>
                        <div class="col-md-3">
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="#">Web analytics</a></li>
                                <li><a href="#">Presentations</a></li>
                            </ul>
                        </div>
                        <div class="col-md-3">
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="#">Product Help</a></li>
                                <li><a href="#">Developer API</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-lg-12">
                        <ul class="nav nav-pills nav-justified">
                            <li><a href="/">&copy; 2018 KIENVT</a></li>
                            <li><a href="#">Terms of Service</a></li>
                            <li><a href="#">Privacy</a></li>
                        </ul>
                    </div>
                </div>
            </div>


        </footer>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.9.0/sweetalert2.all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/locale/vi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/justgage/1.2.9/justgage.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

    <script>
    	$(document).ready( function () {
		    $('.table').DataTable();
		} );
    </script>

	<script type="text/javascript">
	$(document).ready(function(){
    $(".btn-dropdown").click(function(){
	        $(".dropdown-menu").toggle();
	    });
	});
	</script>	
	 <script>
	 	var humidity =0
		 function get_element() {
                $.post( $(location).attr('href')+"/lasthum", function(res) {
                    humidity = res[0].value;
                    console.log(humidity)
                });
            }   
	 	window.onload = function(){
        var g1 = new JustGage({
          id: "g1",
          value: humidity,
           min: -15,
           max: 100,
           title: "Độ ẩm thực tế",
           label: "%",    
           gaugeWidthScale: 0.2
        });

        setInterval(function() {
          g1.refresh(humidity);
        }, 1000);
      };
      setInterval(get_element,10000);
	 </script>

</body>
</html>